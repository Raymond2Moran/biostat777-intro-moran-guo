{
  "hash": "5473099fe7dbc178617a73a4e33f2231",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Example Analysis\"\n\nformat: \n    html:\n        bibliography: citation.bib\n        codetools: true\n        code-block-border-left: \"#31BAE9\"\n        code-block-bg: whitesmoke\neditor:\n    render-on-save: true\n\ncallout-appearance: simple\ndate: last-modified\n---\n\n\n\n## Introduction\nFor this part of the project, I will use R's `iris` dataset (built-in dataset in R) to perform a sample data anlysis. \n\n:::{.column-page-inset}\n![A sample picture of the species *Iris virginica*. Photo Credit: \n[Frank Mayfield](https://www.flickr.com/photos/33397993@N05)](iris_virginica.png)\n:::\n\n### Question\n\nIntuitively speaking, different flowers (or species) have different sizes of sepal and petal. For this analysis, I analyzed the distribution of sepal and petal dimensions across different iris species in the `iris` dataset. Specifically, I aim to answer: **Are there significant differences in petal and sepal dimensions among the species in the dataset?**\n\n### Intended Audience\n\nBiologists, botanists, and enthusiastic data science students. Since the `iris` dataset is idea for *k*-means clustering and Principle Component Analysis (PCA), it is also an option for practicing classification algorithms.\n\n### Data Source\n\nThe Iris dataset [@iris_wikipedia] is a famous dataset built and used by biologist **Ronald Fisher** [@Fisher_wikipedia]. He documented and used these data in his paper discussing Linear Discriminant Analysis [@fisher1936statistical]. It consists of 50 samples from the three species of *Iris*: *Iris setosa*, *Iris virginica*, and *Iris versicolor*.\n\nLink to the dataset: [UCI Dataset Archive](https://archive.ics.uci.edu/dataset/53/iris){.external target=\"_blank\"} [@iris_53]\n\n\n## Data Dictionary\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#install.packages(\"datadictionary\")\nlibrary(datadictionary)\nlibrary(knitr)\n\nkable(create_dictionary(iris), format = \"simple\", caption = \"Data Dictionary of the Iris dataset\")\n```\n\n::: {.cell-output-display}\n\n\nTable: Data Dictionary of the Iris dataset\n\nitem           label      class     summary              value \n-------------  ---------  --------  -------------------  ------\n                                    Rows in dataset      150   \n                                    Columns in dataset   5     \nSepal.Length   No label   numeric   mean                 6     \n                                    median               6     \n                                    min                  4.3   \n                                    max                  7.9   \n                                    missing              0     \nSepal.Width    No label   numeric   mean                 3     \n                                    median               3     \n                                    min                  2     \n                                    max                  4.4   \n                                    missing              0     \nPetal.Length   No label   numeric   mean                 4     \n                                    median               4     \n                                    min                  1     \n                                    max                  6.9   \n                                    missing              0     \nPetal.Width    No label   numeric   mean                 1     \n                                    median               1     \n                                    min                  0.1   \n                                    max                  2.5   \n                                    missing              0     \nSpecies        No label   factor    setosa (1)           50    \n                                    versicolor (2)       50    \n                                    virginica (3)        50    \n                                    missing              0     \n\n\n:::\n:::\n\n\n\n::: {.callout-tip}\nI used `knitr::kable()` function to display tables with enhanced aesthetics in the website.\n:::\n\n## Data Wrangling\n\nWe first create a new variable `Petal.Ratio`, which is cauculated by dividing the `Petal.Length` by corresponding `Petal.Width`.\nThen, we calculate the average value of the `Sepal.Length`, `Sepal.Width`, `Petal.Length`, and `Petal.Ratio` across the three species.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsuppressPackageStartupMessages(library(dplyr))\nlibrary(tidyr)\nlibrary(ggplot2)\nlibrary(knitr)\n\niris_summary <- iris %>%\n  mutate(Petal.Ratio = Petal.Length / Petal.Width)\n\niris_statistics <- iris_summary %>%\n  group_by(Species) %>%\n  summarize(\n    Mean_Sepal_Length = mean(Sepal.Length),\n    Mean_Sepal_Width = mean(Sepal.Width),\n    Mean_Petal_Length = mean(Petal.Length),\n    Mean_Petal_Width = mean(Petal.Width),\n    Mean_Petal_Ratio = mean(Petal.Ratio)\n  ) %>%\n  arrange(desc(Mean_Petal_Ratio))\n\nkable(iris_statistics)\n```\n\n::: {.cell-output-display}\n\n\n|Species    | Mean_Sepal_Length| Mean_Sepal_Width| Mean_Petal_Length| Mean_Petal_Width| Mean_Petal_Ratio|\n|:----------|-----------------:|----------------:|-----------------:|----------------:|----------------:|\n|setosa     |             5.006|            3.428|             1.462|            0.246|         6.908000|\n|versicolor |             5.936|            2.770|             4.260|            1.326|         3.242837|\n|virginica  |             6.588|            2.974|             5.552|            2.026|         2.780662|\n\n\n:::\n:::\n\n\n\n## Data Visualization\n\nAfter generating the table, we use `ggplot2` package to plot some variables of interest and observe their distributions.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(patchwork)\n\nplot1 <- ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)) +\n  geom_point() +\n  labs(\n    title = \"Sepal Dimensions across Species\",\n    subtitle = \"Sepal Length vs. Sepal Width\",\n    x = \"Sepal Length (cm)\",\n    y = \"Sepal Width (cm)\",\n    caption = \"Data source: Iris Dataset from base R\"\n  ) +\n  theme_classic()\n\nplot2 <- ggplot(iris, aes(x = Petal.Length, y = Petal.Width, color = Species)) +\n  geom_point() +\n  labs(\n    title = \"Petal Dimensions across Species\",\n    subtitle = \"Petal Length vs. Petal Width\",\n    x = \"Petal Length (cm)\",\n    y = \"Petal Width (cm)\",\n    caption = \"Data source: Iris Dataset from base R\"\n  ) +\n  theme_classic()\n\ncombined_plot <- plot1 + plot2 + \n                 plot_layout(guides = \"collect\") & theme(legend.position = \"bottom\")\n\ncombined_plot\n```\n\n::: {.cell-output-display}\n![](sample_analysis_files/figure-html/ggplot-1.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(iris_summary, aes(x = Species, y = Petal.Ratio, fill = Species)) +\n  geom_boxplot(alpha = 0.5, width = 0.2) +\n  geom_violin(alpha = 0.5) + \n  labs(\n    title = \"Distribution of Petal Ratio across the three species\",\n    subtitle = \"Boxplots with overlayed violin plots showing variation in petal ratios\",\n    x = \"Species\",\n    y = \"Petal Ratio (Length / Width)\",\n    caption = \"Data source: Iris Dataset from base R\"\n  ) +\n  theme_classic() +\n  theme(legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](sample_analysis_files/figure-html/ggplot-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(iris_summary, aes(x = Sepal.Length, y = Petal.Ratio, color = Species)) +\n  geom_point() +\n  facet_wrap(~ Species) +\n  labs(\n    title = \"Faceted Scatter Plot of Petal Dimensions by Species\",\n    subtitle = \"Petal Length vs. Petal Width for each Species\",\n    x = \"Sepal Length (cm)\",\n    y = \"Petal Ratio (Petal Length / Petal Width)\",\n    caption = \"Data source: Iris Dataset from base R\"\n  ) +\n  theme_classic() +\n  theme(legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](sample_analysis_files/figure-html/ggplot-3.png){width=672}\n:::\n:::\n\n\n\n::: {.callout-note}\nI used `ggplot2::theme_classic()` as the main theme of all of my plots, which is consistent with the Minimalism design of my website.\n:::\n\n## Principal Component Analysis (PCA)\n\nLastly, to perform dimension reduction and to let us better understand which set(s) of features contribute to the (principal) component and/or variation of the data points,  I performed Principal Component Analysis (PCA) using the Iris dataset.\nNote that PCA only works for numeric data, so that we need to extract the numerical features from the dataset (unless perform data encoding for categorical features).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\niris_numeric <- iris[, 1:4]\niris_pca <- prcomp(iris_numeric, center = TRUE, scale. = TRUE)\nsummary(iris_pca)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nImportance of components:\n                          PC1    PC2     PC3     PC4\nStandard deviation     1.7084 0.9560 0.38309 0.14393\nProportion of Variance 0.7296 0.2285 0.03669 0.00518\nCumulative Proportion  0.7296 0.9581 0.99482 1.00000\n```\n\n\n:::\n\n```{.r .cell-code}\npca_scores <- as.data.frame(iris_pca$x)\npca_scores$Species <- iris$Species\n\nggplot(pca_scores, aes(x = PC1, y = PC2, color = Species)) +\n  geom_point(size = 2) +\n  labs(\n    title = \"PCA of Iris Dataset\",\n    x = \"Principal Component 1\",\n    y = \"Principal Component 2\"\n  ) +\n  theme_classic() +\n  theme(legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](sample_analysis_files/figure-html/PCA-1.png){width=672}\n:::\n\n```{.r .cell-code}\nloadings_df <- as.data.frame(iris_pca$rotation)\nloadings_df$Variable <- rownames(loadings_df)\n\nggplot(loadings_df, aes(x = PC1, y = PC2, label = Variable)) +\n  geom_point() +\n  geom_text(vjust = 0, hjust = 0.75) +\n  labs(\n    title = \"PCA Loadings for Iris Dataset\",\n    x = \"PC1 Loadings\",\n    y = \"PC2 Loadings\"\n  ) +\n  xlim(-0.4, 0.7) +\n  theme_classic() +\n  theme(legend.position = \"bottom\")\n```\n\n::: {.cell-output-display}\n![](sample_analysis_files/figure-html/PCA-2.png){width=672}\n:::\n:::\n\n\n\n## Summary\n\nFrom the plots and the tables, we can conclude that:\n\n1. The three Iris species' petal and sepal characteristics are so different that is well-separable. \nFrom the scatterplot, we can observe that *setosa* has shorter, wider sepals & tiny petals compared to the other two species.\nFrom the distribution we can deduce that *setosa* can be well-predicted, since the data points corresponds to this species \nhave a clear boundary separating them from the rest of the group.\n\n2. *Iris setosa* has a wide range of `Petal.Ratio`, whereas the rest of the two species exhibited dense and relative low `Petal.Ratio` statistics.\nCombined with the result of the first scatterplot, this suggest that both the widths and the lengths of the *Iris setosa* samples are more variable\ncompared to the other two species.\n\n3. Based on the third figure, the `Sepal.Length` of *Iris versicolor* and *Iris virginica* are more variable although their `Petal.Ratio` are consistent compared to *Iris setosa*.\nSo we can conclude that the petal dimensions of *Iris versicolor* and *Iris virginica* are relatively consistent, but their sepal size tend to vary.\n\n4. From the result of PCA, we can see that PC1 well-separated the *Iris setosa* from the rest of the two species. \n*Iris virginica* and *Iris versicolor* had a decent separation by PC1 with some overlaps. This visualization (finding) is consistent with the PCs summary statistics, where around $73\\%$ of the variation \nis explained by PC1. What factor contributes to the PC1? Based on the last plot showing the PCA loadings, we can see that `Petal.Length` and `Petal.Width` features are the two features that strongly influenced PC1.\nConsidering PC1 is so important, this finding suggest that information about petal dimensions informed us the most about the species of *Iris*.\n\n\n## Function Used\n\n`dplyr` package: `mutate()`, `group_by()`, `summarize()`, `arrange()`, `desc()`.\n\n`ggplot2` package: `geom_point()`, `geom_boxplot`, `geom_violin`, `facet_wrap()`.",
    "supporting": [
      "sample_analysis_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}